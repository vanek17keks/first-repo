(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1266:function(e,t,r){var i=r(1753);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r(446).default)("7666e8ca",i,!0,{})},1752:function(e,t,r){"use strict";var i=r(1266);r.n(i).a},1753:function(e,t,r){(e.exports=r(445)(!1)).push([e.i,'.excerpt[data-v-0d167275]{margin:28px 21px 0px 21px}@media screen and (min-width: 768px){.excerpt__main[data-v-0d167275]{max-width:100%;overflow:hidden}}@media screen and (min-width: 768px){.excerpt__grid[data-v-0d167275]{display:grid;margin:0 auto;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;grid-template-columns:1fr 142px;grid-column-gap:16px;grid-row-gap:0}}.excerpt__title[data-v-0d167275]{display:block;margin:0 auto 12px;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;font-family:inherit;font-weight:500;font-size:18px;line-height:100%;font-style:normal;color:#222;text-align:center}@media screen and (min-width: 375px){.excerpt__title[data-v-0d167275]{margin-bottom:24px}}@media screen and (min-width: 768px){.excerpt__title[data-v-0d167275]{display:none}}.excerpt__name[data-v-0d167275]{display:none}@media screen and (min-width: 768px){.excerpt__name[data-v-0d167275]{display:block;margin:0 0 24px;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;font-family:inherit;font-weight:500;font-size:20px;line-height:120%;font-style:normal;color:#222}}.excerpt__container[data-v-0d167275]{overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;width:100%;margin:0 auto 20px}@media screen and (min-width: 768px){.excerpt__container[data-v-0d167275]{display:none;margin:0 auto}}.excerpt__gallery[data-v-0d167275]{width:320px;height:400px;margin:0 auto;background:transparent}@media screen and (min-width: 360px){.excerpt__gallery[data-v-0d167275]{width:360px;height:455px}}@media screen and (min-width: 375px){.excerpt__gallery[data-v-0d167275]{width:375px;height:476px}}@media screen and (min-width: 768px){.excerpt__gallery[data-v-0d167275]{width:100%;background:#F2F3F6;border-radius:12px 12px 0 0;padding:20px 40px 0}}.excerpt__slider[data-v-0d167275]{width:320px;height:400px;background:transparent}@media screen and (min-width: 360px){.excerpt__slider[data-v-0d167275]{width:360px;height:455px}}@media screen and (min-width: 375px){.excerpt__slider[data-v-0d167275]{width:375px;height:476px}}@media screen and (min-width: 768px){.excerpt__slider[data-v-0d167275]{display:none !important}}.excerpt__controls[data-v-0d167275]{display:grid;margin:0 auto;padding:0 16px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:10px;grid-template-columns:1fr 1fr 1fr;grid-column-gap:10px;grid-row-gap:0;margin-bottom:13px}.excerpt__controls.grid-0[data-v-0d167275]{grid-template-columns:repeat(0, 1fr)}.excerpt__controls.grid-1[data-v-0d167275]{grid-template-columns:repeat(1, 1fr)}.excerpt__controls.grid-2[data-v-0d167275]{grid-template-columns:repeat(2, 1fr)}.excerpt__controls.grid-3[data-v-0d167275]{grid-template-columns:repeat(3, 1fr)}.excerpt__controls.grid-4[data-v-0d167275]{grid-template-columns:repeat(4, 1fr)}.excerpt__controls.grid-5[data-v-0d167275]{grid-template-columns:repeat(5, 1fr)}.excerpt__controls.grid-6[data-v-0d167275]{grid-template-columns:repeat(6, 1fr)}.excerpt__controls.grid-7[data-v-0d167275]{grid-template-columns:repeat(7, 1fr)}.excerpt__controls.grid-8[data-v-0d167275]{grid-template-columns:repeat(8, 1fr)}.excerpt__controls.grid-9[data-v-0d167275]{grid-template-columns:repeat(9, 1fr)}.excerpt__controls.grid-10[data-v-0d167275]{grid-template-columns:repeat(10, 1fr)}.excerpt__controls.grid-11[data-v-0d167275]{grid-template-columns:repeat(11, 1fr)}.excerpt__controls.grid-12[data-v-0d167275]{grid-template-columns:repeat(12, 1fr)}.excerpt__controls.grid-13[data-v-0d167275]{grid-template-columns:repeat(13, 1fr)}.excerpt__controls.grid-14[data-v-0d167275]{grid-template-columns:repeat(14, 1fr)}.excerpt__controls.grid-15[data-v-0d167275]{grid-template-columns:repeat(15, 1fr)}.excerpt__controls.grid-16[data-v-0d167275]{grid-template-columns:repeat(16, 1fr)}.excerpt__controls.grid-17[data-v-0d167275]{grid-template-columns:repeat(17, 1fr)}.excerpt__controls.grid-18[data-v-0d167275]{grid-template-columns:repeat(18, 1fr)}.excerpt__controls.grid-19[data-v-0d167275]{grid-template-columns:repeat(19, 1fr)}.excerpt__controls.grid-20[data-v-0d167275]{grid-template-columns:repeat(20, 1fr)}@media screen and (min-width: 768px){.excerpt__controls[data-v-0d167275]{display:none !important}}.excerpt__reader[data-v-0d167275]{display:none}@media screen and (min-width: 768px){.excerpt__reader[data-v-0d167275]{display:grid;margin:0 auto;padding:20px 40px 20px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;grid-template-rows:1fr;grid-row-gap:11px;background:#F2F3F6;border-radius:12px 12px 0 0;max-height:calc(100vh - 100px);overflow-y:auto;overflow-x:hidden}}@media screen and (min-width: 1280px){.excerpt__reader[data-v-0d167275]::-webkit-scrollbar-track{border-radius:4px}.excerpt__reader[data-v-0d167275]::-webkit-scrollbar{width:6px}.excerpt__reader[data-v-0d167275]::-webkit-scrollbar-thumb{border-radius:4px;background:#6f79a8}.excerpt__reader[data-v-0d167275]::-webkit-scrollbar-thumb{border-radius:4px;background:#6f79a8}.excerpt__reader[data-v-0d167275]::-webkit-scrollbar-button{background:transparent}.excerpt__reader[data-v-0d167275]:hover::-webkit-scrollbar-thumb{background:rgba(111,121,168,0.9)}}.excerpt__aside[data-v-0d167275]{display:none}@media screen and (min-width: 768px){.excerpt__aside[data-v-0d167275]{display:block;margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto}}.excerpt__footer[data-v-0d167275]{display:none;margin:0 auto;padding:20px 16px 24px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;font-family:inherit;font-weight:500;font-size:15px;line-height:100%;font-style:normal;color:#626B77;border-top:1px solid #EAEAEA;text-align:center}@media screen and (min-width: 375px){.excerpt__footer[data-v-0d167275]{display:block}}@media screen and (min-width: 768px){.excerpt__footer[data-v-0d167275]{display:none}}.slide[data-v-0d167275]{padding:0 12px;width:296px;height:400px}@media screen and (min-width: 360px){.slide[data-v-0d167275]{padding:0 16px;width:328px;height:455px}}@media screen and (min-width: 375px){.slide[data-v-0d167275]{width:351px;height:476px}}@media screen and (min-width: 768px){.slide[data-v-0d167275]{display:block;margin:0 auto;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:420px;height:auto}}.slide__item[data-v-0d167275]{border-radius:8px;height:100%;position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center;-ms-flex-align:end;align-items:flex-end}@media screen and (min-width: 768px){.slide__item[data-v-0d167275]{width:100%;height:auto;background:#C4C4C4;border-radius:12px}}.slide__img[data-v-0d167275]{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;border-radius:8px;max-height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.dot[data-v-0d167275]{display:-ms-flexbox;display:flex;margin:0 auto;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:100%;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center;-ms-flex-align:start;align-items:flex-start;border-radius:1000px;background:transparent;position:relative;color:transparent}.dot span[data-v-0d167275]{display:-ms-flexbox;display:flex;margin:0 auto;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:5px;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;overflow:hidden;background:#E7EBF0;border-radius:1000px;position:static;color:transparent}.dot[data-v-0d167275]::before{content:"";display:-ms-flexbox;display:flex;margin:0 auto;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:5px;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:1000px;background:rgba(0,0,0,0);position:absolute;left:0;top:0;right:0;bottom:auto;z-index:1}.dot.selected[data-v-0d167275]::before{background:rgba(0,0,0,0.06);background-blend-mode:color-burn}.fragment[data-v-0d167275]{display:block;margin:0 0 32px;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto}.fragment__title[data-v-0d167275]{display:block;margin:0 0 12px;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;font-family:inherit;font-weight:500;font-size:15px;line-height:100%;font-style:normal;color:#222}.fragment-list[data-v-0d167275]{display:grid;margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;grid-template-columns:repeat(3, 42px);grid-column-gap:8px;grid-row-gap:12px}.fragment-list__item[data-v-0d167275]{display:-ms-flexbox;display:flex;margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:42px;height:54px;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;background:#C4C4C4;border-radius:6px;overflow:hidden;cursor:pointer}.fragment-list__item.selected[data-v-0d167275]{border:2px solid #3C3C87}.fragment-list__item img[data-v-0d167275]{height:100%;width:100%;max-width:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:top;object-position:top}.fragment[data-v-0d167275]:last-child{margin-bottom:0}\n',""])},1783:function(e,t,r){"use strict";r.r(t);var i=r(139),a=r(57),n=r(18),o=r(2),d=r(882),s=r.n(d),c=(r(883),r(884),r(837));function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={name:"BookExcerpt",components:{"no-ssr":r.n(c).a,VueSlickCarousel:s.a},created:function(){this.initCovers(),this.createDots(),this.initExcerpts()},destroyed:function(){this.setExcerpt(!1),this.setExcerptPage(0)},data:function(){return{slidesView:{slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,centerMode:!1,arrows:!1,dots:!0,infinite:!1,dotsClass:"excerpt-dots"},dotsList:[],zeroPriceValue:0,productPropertyList:{marketplaceId:"marketplace_id",sku:"sku",price:"price",specialPrice:"special_price"},covers:[],excerpts:[],formatProductLabelToString:a.b}},computed:g(g({},Object(i.c)({product:"product/getCurrentProduct",isExcerptModal:"book/isExcerptModal",getExcerptPage:"book/getExcerptPage",gallery:"product/getProductGallery"})),{},{title:function(){return this.product.name||this.$i18n.t("Без назви")},format:function(){return this.formatProductLabelToString(this.product.book_publication_label)},isBook:function(){return Object(o.i)(this.product.attribute_set_id)},fragmentTitle:function(){return this.isBook?this.$i18n.t("Обкладинка"):this.$i18n.t("Фото")},fragmentContent:function(){return this.isBook?this.$i18n.t("Passage"):this.$i18n.t("Gallery")},code:function(){return this.product.sku},price:function(){if(this.product.hasOwnProperty(this.productPropertyList.price)){var e=this.product.price;return"number"==typeof e?e:Number(e)}return this.zeroPriceValue},priceSpecial:function(){var e=this.productPropertyList.specialPrice;if(this.product.hasOwnProperty(e)){var t=this.product[e];return"number"==typeof t?t:Number(t)}return this.product[e]},priceTotal:function(){return 0===parseInt(this.priceSpecial,10)?this.price:this.priceSpecial},media:function(){return this.product.media_gallery},galleryExcerpt:function(){var e;return(null===(e=this.product)||void 0===e?void 0:e.mediagallery_image)?Object(n.getExcerptGallery)(this.product):[]},galleryFull:function(){return this.galleryExcerpt.length?[].concat(l(this.gallery),l(this.galleryExcerpt)):this.gallery}}),methods:g(g({},Object(i.b)({setExcerptModal:"book/setExcerptModal",setExcerptPage:"book/setExcerptPage"})),{},{initCovers:function(){var e=this,t=this.gallery.map((function(t,r){var i=t.src,a=t.error;return{selected:r===e.getExcerptPage,id:r,src:i,error:a}}));this.covers=l(t)},isBookProduct:o.i,initExcerpts:function(){var e=this,t=this.galleryExcerpt.map((function(t,r){var i=t.src,a=t.error;return{selected:e.covers.length+r===e.getExcerptPage,id:e.covers.length+r,src:i,error:a}}));this.excerpts=l(t)},createDots:function(){var e=this;this.gallery.map((function(t,r){var i={selected:0===r,index:r};e.dotsList=[].concat(l(e.dotsList),[i])}))},selectFragment:function(e){var t,r,i=this.covers.map((function(t){return t.selected=t.id===e,t})),a=this.excerpts.map((function(t){return t.selected=t.id===e,t}));this.covers=l(i),this.excerpts=l(a),(null===(t=this.$refs)||void 0===t||null===(r=t["pageRead".concat(e)])||void 0===r?void 0:r[0]).scrollIntoView({behavior:"smooth"})},goToSlide:function(e){this.$refs.excerptSlider.goTo(e);var t=this.dotsList.map((function(t){return t.selected=t.index===e,t}));this.dotsList=l(t)},refreshDotsList:function(e){var t=this.dotsList.map((function(t){return t.selected=t.index===e,t}));this.dotsList=l(t)},setExcerpt:function(e){this.setExcerptModal(!0===e)}}),watch:{getExcerptPage:function(e){var t=this;setTimeout((function(){t.selectFragment(e)}),300)}}},b=(r(1752),r(322)),f=Object(b.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isExcerptModal&&e.product?r("div",{staticClass:"excerpt"},[r("div",{staticClass:"excerpt__title"},[e._v("\n    "+e._s(e.$t("Перегляд уривку"))+"\n  ")]),e._v(" "),r("div",{staticClass:"excerpt__name"},[e._v("\n    "+e._s(e.product.name)+"\n  ")]),e._v(" "),r("div",{staticClass:"excerpt__grid"},[r("div",{staticClass:"excerpt__main"},[r("no-ssr",[r("div",{staticClass:"excerpt__container"},[e.galleryFull?r("div",{staticClass:"excerpt__gallery"},[r("div",{staticClass:"excerpt__slider"},[r("VueSlickCarousel",e._b({key:e.galleryFull.length,ref:"excerptSlider",attrs:{"as-nav-for":e.$refs.excerptDots},on:{afterChange:e.refreshDotsList}},"VueSlickCarousel",e.slidesView,!1),[e._l(e.galleryFull,(function(e,t){return r("div",{key:"slide-"+t,staticClass:"slide"},[r("div",{staticClass:"slide__item"},[r("img",{staticClass:"slide__img",attrs:{src:e.src,alt:e.src}})])])})),e._v(" "),e._l(e.galleryFull,(function(e,t){return r("div",{key:"slide-"+t+"-"+t,staticClass:"slide"},[r("div",{staticClass:"slide__item"},[r("img",{staticClass:"slide__img",attrs:{src:e.src,alt:e.src}})])])}))],2)],1)]):e._e()])]),e._v(" "),r("no-ssr",[r("div",{class:"excerpt__controls grid-"+e.dotsList.length},e._l(e.dotsList,(function(t){return r("button",{key:t.index,staticClass:"dot",class:{selected:t.selected},on:{click:function(r){return e.goToSlide(t.index)}}},[r("span",[e._v(e._s(t.index))])])})),0)]),e._v(" "),r("div",{staticClass:"excerpt__reader"},e._l(e.galleryFull,(function(e,t){return r("div",{key:"slide-"+t,ref:"pageRead"+t,refInFor:!0,staticClass:"slide"},[r("div",{staticClass:"slide__item"},[r("img",{staticClass:"slide__img",attrs:{src:e.src,alt:e.src}})])])})),0)],1),e._v(" "),r("div",{staticClass:"excerpt__aside"},[r("div",{staticClass:"fragment"},[r("div",{staticClass:"fragment__title"},[e._v("\n          "+e._s(e.fragmentTitle)+"\n        ")]),e._v(" "),r("div",{staticClass:"fragment-list"},e._l(e.covers,(function(t){return r("div",{key:t.src,staticClass:"fragment-list__item",class:{selected:t.selected},on:{click:function(r){return e.selectFragment(t.id)}}},[r("img",{attrs:{src:t.src,alt:t.error}})])})),0)]),e._v(" "),e.excerpts.length>0?r("div",{staticClass:"fragment"},[r("div",{staticClass:"fragment__title"},[e._v("\n          "+e._s(e.fragmentContent)+"\n        ")]),e._v(" "),r("div",{staticClass:"fragment-list"},e._l(e.excerpts,(function(t){return r("div",{key:t.src,staticClass:"fragment-list__item",class:{selected:t.selected},on:{click:function(r){return e.selectFragment(t.id)}}},[r("img",{attrs:{src:t.src,alt:t.error}})])})),0)]):e._e()])]),e._v(" "),r("div",{staticClass:"excerpt__footer",on:{click:function(t){return e.setExcerpt(!1)}}},[e._v("\n    "+e._s(e.$t("Завершити перегляд"))+"\n  ")])]):e._e()}),[],!1,null,"0d167275",null);t.default=f.exports}}]);
//# sourceMappingURL=book-excerpt.d0424195db27c96c451c.js.map